(this["webpackJsonpspa-crud-frontend"]=this["webpackJsonpspa-crud-frontend"]||[]).push([[0],{139:function(e,t,s){"use strict";s.r(t);var a=s(2),i=s(0),n=s.n(i),r=s(11),c=s.n(r),o=s(30),l=s(19),d=s(20),h=s(23),j=s(22),b=s(12),u=s(191),m=s(88),p=s(29),O=s(177),g=s(179),f=s(180),x=s(181),v=s(196),y=s(175),C=s(10),k=s(81),S=s.n(k),L=s(82),w=s.n(L),D=s(87),q=s(195),R=Object(y.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(p.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(p.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(C.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(C.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(p.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function I(){var e=R(),t=n.a.useState(null),s=Object(m.a)(t,2),i=s[0],r=s[1],c=Boolean(i),l=function(){r(null)};return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(O.a,{position:"static",children:Object(a.jsxs)(g.a,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(f.a,{edge:"start","aria-label":"menu",onClick:function(e){r(e.currentTarget)},color:"inherit",children:Object(a.jsx)(S.a,{})}),Object(a.jsxs)(D.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:l,children:[Object(a.jsx)(q.a,{onClick:l,component:o.b,to:"/",children:"Home"}),Object(a.jsx)(q.a,{onClick:l,component:o.b,to:"/create",children:"Add member"})]})]}),Object(a.jsx)(x.a,{variant:"h6",className:e.title,children:"SPA-CRUD Demo Application"}),Object(a.jsxs)("div",{className:e.search,children:[Object(a.jsx)("div",{className:e.searchIcon,children:Object(a.jsx)(w.a,{})}),Object(a.jsx)(v.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]})]})})})}var F=s(49),B=s(28),A=s(193),M=s(182),N=s(192),P=s(183),E=s(194),T=s(83),U=s.n(T).a.create({baseURL:"https://spa-crud-backend.heckenspringen.de/api",headers:{"Content-type":"application/json"}}),V=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(B.a)(a)),a.onSubmit=a.onSubmit.bind(Object(B.a)(a)),a.state={message:"",error:!1,isLoading:!1,success:!1,errorfields:[],form:{}},a}return Object(d.a)(s,[{key:"handleChange",value:function(e){this.setState({form:Object(F.a)(Object(F.a)({},this.state.form),{},Object(p.a)({},e.target.id,e.target.value))})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),U.post("/member",this.state.form).then((function(e){console.log(e.data),t.setState({error:!1,message:"Done!",success:!0}),setTimeout((function(){return t.props.history.push("/")}),1e3)})).catch((function(e){if(console.log(e.response),e.response){if(e.response.data.errors){var s=e.response.data.errors.map((function(e){return Object(a.jsxs)("div",{children:["- ",e]})}));t.setState({error:!0,errorfields:e.response.data.errorfields?e.response.data.errorfields:[],message:s})}}else t.setState({error:!0,message:"Something failed at backend"})})),console.log(this.state)}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[this.state.message&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(E.a,{severity:this.state.error?"error":this.state.success?"success":"info",children:this.state.message}),Object(a.jsx)("br",{})]}),Object(a.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:this.onSubmit,children:Object(a.jsxs)(M.a,{children:[Object(a.jsx)(N.a,{margin:1,children:Object(a.jsx)(A.a,{id:"firstname",variant:"outlined",label:"Firstname",required:!0,disabled:this.state.success,error:this.state.errorfields.includes("firstname"),autoFocus:!0,onChange:this.handleChange},"firstname")}),Object(a.jsx)(N.a,{margin:1,children:Object(a.jsx)(A.a,{id:"lastname",variant:"outlined",label:"Lastname",required:!0,disabled:this.state.success,error:this.state.errorfields.includes("lastname"),onChange:this.handleChange},"lastname")}),Object(a.jsx)(N.a,{margin:1,children:Object(a.jsx)(A.a,{id:"birthday",variant:"outlined",label:"Birthday",InputLabelProps:{shrink:!0},type:"date",required:!0,disabled:this.state.success,error:this.state.errorfields.includes("birthday"),onChange:this.handleChange},"birthday")}),Object(a.jsx)(N.a,{margin:1,children:Object(a.jsx)(A.a,{id:"street",variant:"outlined",label:"Street",required:!0,disabled:this.state.success,error:this.state.errorfields.includes("street"),onChange:this.handleChange},"street")}),Object(a.jsx)(N.a,{margin:1,children:Object(a.jsx)(A.a,{id:"city",variant:"outlined",label:"City",required:!0,disabled:this.state.success,error:this.state.errorfields.includes("city"),onChange:this.handleChange},"city")}),Object(a.jsx)(N.a,{margin:1,children:Object(a.jsx)(A.a,{id:"phone",variant:"outlined",label:"Phone",disabled:this.state.success,error:this.state.errorfields.includes("phone"),onChange:this.handleChange},"phone")}),Object(a.jsx)(N.a,{margin:1,children:Object(a.jsx)(A.a,{id:"email",variant:"outlined",label:"eMail",disabled:this.state.success,error:this.state.errorfields.includes("email"),type:"email",onChange:this.handleChange},"email")}),Object(a.jsx)(P.a,{type:"submit",variant:"contained",disabled:this.state.success,color:"primary",children:"Create"})]})})]})}}]),s}(i.Component),z=s(184),G=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(B.a)(a)),a.onSubmit=a.onSubmit.bind(Object(B.a)(a)),a.state={message:"",error:!1,isLoading:!0,success:!1,errorfields:[],form:{firstname:"",lastname:"",birthday:"",street:"",city:"",phone:"",email:""}},a}return Object(d.a)(s,[{key:"handleChange",value:function(e){this.setState({form:Object(F.a)(Object(F.a)({},this.state.form),{},Object(p.a)({},e.target.id,e.target.value))})}},{key:"componentDidMount",value:function(){var e=this;U.get("/member/"+this.props.match.params.id).then((function(t){e.setState({isLoading:!1,form:t.data})})).catch((function(e){console.log(e)}))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),U.post("/member/"+this.props.match.params.id,this.state.form).then((function(e){console.log(e.data),t.setState({error:!1,message:"Done!",success:!0}),setTimeout((function(){return t.props.history.push("/")}),1e3)})).catch((function(e){if(e.response){if(console.log(e.response.data),e.response.data.errors){var s=e.response.data.errors.map((function(e){return Object(a.jsxs)("div",{children:["- ",e]})}));t.setState({error:!0,errorfields:e.response.data.errorfields?e.response.data.errorfields:[],message:s})}}else console.log("Error",e.message),t.setState({error:!0,message:"Something failed at backend"})})),console.log(this.state)}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[this.state.isLoading&&Object(a.jsx)(z.a,{}),this.state.message&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(E.a,{severity:this.state.error?"error":this.state.success?"success":"info",children:this.state.message}),Object(a.jsx)("br",{})]}),Object(a.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:this.onSubmit,children:Object(a.jsxs)(M.a,{children:[Object(a.jsx)(N.a,{margin:1,children:Object(a.jsx)(A.a,{id:"firstname",variant:"outlined",label:"Firstname",shrink:"true",required:!0,disabled:this.state.success||this.state.isLoading,error:this.state.errorfields.includes("firstname"),value:this.state.form.firstname,onChange:this.handleChange})}),Object(a.jsx)(N.a,{margin:1,children:Object(a.jsx)(A.a,{id:"lastname",variant:"outlined",label:"Lastname",shrink:"true",required:!0,disabled:this.state.success||this.state.isLoading,error:this.state.errorfields.includes("lastname"),value:this.state.form.lastname,onChange:this.handleChange})}),Object(a.jsx)(N.a,{margin:1,children:Object(a.jsx)(A.a,{id:"birthday",variant:"outlined",label:"Birthday",shrink:"true",required:!0,disabled:this.state.success||this.state.isLoading,error:this.state.errorfields.includes("birthday"),value:this.state.form.birthday,onChange:this.handleChange})}),Object(a.jsx)(N.a,{margin:1,children:Object(a.jsx)(A.a,{id:"street",variant:"outlined",label:"Street",shrink:"true",required:!0,disabled:this.state.success||this.state.isLoading,error:this.state.errorfields.includes("street"),value:this.state.form.street,onChange:this.handleChange})}),Object(a.jsx)(N.a,{margin:1,children:Object(a.jsx)(A.a,{id:"city",variant:"outlined",label:"City",shrink:"true",required:!0,disabled:this.state.success||this.state.isLoading,error:this.state.errorfields.includes("city"),value:this.state.form.city,onChange:this.handleChange})}),Object(a.jsx)(N.a,{margin:1,children:Object(a.jsx)(A.a,{id:"phone",variant:"outlined",label:"Phone",shrink:"true",disabled:this.state.success||this.state.isLoading,error:this.state.errorfields.includes("phone"),value:this.state.form.phone,onChange:this.handleChange})}),Object(a.jsx)(N.a,{margin:1,children:Object(a.jsx)(A.a,{id:"email",variant:"outlined",label:"eMail",shrink:"true",disabled:this.state.success||this.state.isLoading,error:this.state.errorfields.includes("email"),value:this.state.form.email,type:"email",onChange:this.handleChange})}),Object(a.jsx)(P.a,{type:"submit",variant:"contained",disabled:this.state.success||this.state.isLoading,color:"primary",children:"Update"})]})})]})}}]),s}(i.Component),J=s(188),H=s(190),K=s(186),Q=s(187),W=s(189),X=s(185),Y=s(141),Z=s(86),$=s.n(Z),_=s(85),ee=s.n(_),te=s(84),se=s.n(te),ae=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).delete=a.delete.bind(Object(B.a)(a)),a}return Object(d.a)(s,[{key:"delete",value:function(e){var t=this;U.delete("/member/"+this.props.obj.id).then((function(e){t.props.getData(),console.log("Deleted")})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(a.jsxs)(X.a,{children:[Object(a.jsx)(K.a,{component:"th",scope:"row",children:this.props.obj.id}),Object(a.jsx)(K.a,{align:"left",children:this.props.obj.firstname}),Object(a.jsx)(K.a,{align:"left",children:this.props.obj.lastname}),Object(a.jsx)(K.a,{align:"left",children:this.props.obj.birthday}),Object(a.jsxs)(K.a,{align:"left",children:[this.props.obj.street,", ",this.props.obj.city]}),Object(a.jsxs)(K.a,{align:"right",children:[Object(a.jsx)(f.a,{"aria-label":"view",component:o.b,to:"/view/"+this.props.obj.id,children:Object(a.jsx)(se.a,{})}),Object(a.jsx)(f.a,{"aria-label":"edit",component:o.b,color:"primary",to:"/edit/"+this.props.obj.id,children:Object(a.jsx)(ee.a,{})}),Object(a.jsx)(f.a,{"aria-label":"delete",color:"secondary",onClick:this.delete,children:Object(a.jsx)($.a,{})})]})]},this.props.obj.id)}}]),s}(i.Component),ie=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).getData=function(){a.setState({members:[],isLoading:!0}),U.get("/members").then((function(e){a.setState({members:e.data,isLoading:!1}),console.log(e)})).catch((function(e){console.log(e)}))},a.state={isLoading:!0,members:[]},a}return Object(d.a)(s,[{key:"simplifiedFunction",value:function(e){console.log(e)}},{key:"componentDidMount",value:function(){this.getData()}},{key:"tabRow",value:function(){var e=this;return this.state.members.map((function(t,s){return Object(a.jsx)(ae,{obj:t,getData:e.getData},s)}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(Q.a,{component:Y.a,children:Object(a.jsxs)(J.a,{children:[Object(a.jsx)(W.a,{children:Object(a.jsxs)(X.a,{children:[Object(a.jsx)(K.a,{children:"ID"}),Object(a.jsx)(K.a,{align:"left",children:"Firstname"}),Object(a.jsx)(K.a,{align:"left",children:"Lastname"}),Object(a.jsx)(K.a,{align:"left",children:"Birthday"}),Object(a.jsx)(K.a,{align:"left",children:"Adress"}),Object(a.jsx)(K.a,{align:"right",children:"Actions"})]})}),Object(a.jsx)(H.a,{children:!this.state.isLoading&&(this.state.members.length>0?this.tabRow():Object(a.jsx)(X.a,{children:Object(a.jsx)(K.a,{align:"center",colSpan:5,children:"No data"})}))})]})}),this.state.isLoading&&Object(a.jsx)(z.a,{})]})}}]),s}(i.Component),ne=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("p",{children:"View"})})}}]),s}(i.Component),re=function(e){Object(h.a)(s,e);var t=Object(j.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(a.jsx)(o.a,{children:Object(a.jsxs)(u.a,{children:[Object(a.jsx)(I,{}),Object(a.jsx)("br",{}),Object(a.jsxs)(b.c,{children:[Object(a.jsx)(b.a,{path:"/view/:id",component:ne}),Object(a.jsx)(b.a,{exact:!0,path:"/create",component:V}),Object(a.jsx)(b.a,{path:"/edit/:id",component:G}),Object(a.jsx)(b.a,{path:"/",component:ie})]})]})})}}]),s}(i.Component);c.a.render(Object(a.jsx)(o.a,{children:Object(a.jsx)(re,{})}),document.getElementById("root"))}},[[139,1,2]]]);
//# sourceMappingURL=main.f9ea6feb.chunk.js.map