(this["webpackJsonpspa-crud-frontend"]=this["webpackJsonpspa-crud-frontend"]||[]).push([[0],{148:function(e,t,a){"use strict";a.r(t);var s=a(2),i=a(0),n=a.n(i),r=a(11),c=a.n(r),o=a(23),l=a(20),h=a(34),d=a(35),b=a(18),j=a(42),u=a(40),m=a(12),p=a(207),O=a(210),g=a(73),f=a(43),x=a(189),v=a(191),y=a(192),C=a(66),k=a(211),S=a(187),L=a(10),w=a(87),D=a.n(w),N=a(93),R=a.n(N),T=a(98),E=a(193),M=a(194),A=a(195),I=a(196),B=a(197),P=a(90),G=a.n(P),z=a(91),q=a.n(z),J=a(64),F=a.n(J),U=a(89),V=a.n(U),W=a(92),K=a.n(W),Z=a(88),H=a.n(Z),Q=Object(S.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(f.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(f.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(L.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(L.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(f.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),nested:{paddingLeft:e.spacing(4)}}}));function X(e){var t=Q(),a=n.a.useState(null),i=Object(g.a)(a,2),r=i[0],c=i[1],l=Boolean(r),h=function(){c(null)},d=n.a.useState(!1),b=Object(g.a)(d,2),j=b[0],u=b[1];return Object(s.jsx)("div",{className:t.root,children:Object(s.jsx)(x.a,{position:"static",children:Object(s.jsxs)(v.a,{children:[Object(s.jsxs)("div",{children:[Object(s.jsx)(y.a,{edge:"start","aria-label":"menu",onClick:function(e){c(e.currentTarget)},color:"inherit",children:Object(s.jsx)(D.a,{})}),Object(s.jsxs)(T.a,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:h,children:[Object(s.jsxs)(M.a,{button:!0,onClick:function(){e.handleSearch(""),h()},component:o.b,to:"".concat("","/"),children:[Object(s.jsx)(A.a,{children:Object(s.jsx)(H.a,{})}),Object(s.jsx)(I.a,{primary:"All Members"})]}),Object(s.jsxs)(M.a,{button:!0,onClick:h,component:o.b,to:"".concat("","/create"),children:[Object(s.jsx)(A.a,{children:Object(s.jsx)(F.a,{})}),Object(s.jsx)(I.a,{primary:"Add Member"})]}),Object(s.jsxs)(M.a,{button:!0,onClick:function(){u(!j)},children:[Object(s.jsx)(A.a,{children:Object(s.jsx)(V.a,{})}),Object(s.jsx)(I.a,{primary:"Special"}),j?Object(s.jsx)(G.a,{}):Object(s.jsx)(q.a,{})]}),Object(s.jsx)(B.a,{in:j,timeout:"auto",unmountOnExit:!0,children:Object(s.jsx)(E.a,{component:"div",disablePadding:!0,children:Object(s.jsxs)(M.a,{button:!0,className:t.nested,onClick:function(){e.handleAddDemoEntries(),h()},children:[Object(s.jsx)(A.a,{children:Object(s.jsx)(K.a,{})}),Object(s.jsx)(I.a,{primary:"Bulk Import"})]})})})]})]}),Object(s.jsx)(C.a,{variant:"h6",className:t.title,children:e.navbartitle}),Object(s.jsxs)("div",{className:t.search,children:[Object(s.jsx)("div",{className:t.searchIcon,children:Object(s.jsx)(R.a,{})}),Object(s.jsx)(k.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},onChange:function(t){return e.handleSearch(t.target.value)},value:e.search})]})]})})})}var Y=a(201),$=a(203),_=a(199),ee=a(200),te=a(202),ae=a(198),se=a(150),ie=a(204),ne=a(205),re=a(97),ce=a.n(re),oe=a(96),le=a.n(oe),he=a(95),de=a.n(he),be=a(94),je=a.n(be).a.create({baseURL:"https://spa-crud-backend.heckenspringen.de/api",headers:{"Content-type":"application/json"}}),ue=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).delete=s.delete.bind(Object(b.a)(s)),s}return Object(d.a)(a,[{key:"delete",value:function(e){var t=this;je.delete("/member/"+this.props.obj.id).then((function(e){t.props.getData(t.props.search)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(s.jsxs)(ae.a,{children:[Object(s.jsx)(_.a,{component:"th",scope:"row",children:this.props.obj.id}),Object(s.jsx)(_.a,{align:"left",children:this.props.obj.firstname}),Object(s.jsx)(_.a,{align:"left",children:this.props.obj.lastname}),Object(s.jsx)(_.a,{align:"left",children:this.props.obj.birthday}),Object(s.jsxs)(_.a,{align:"left",children:[this.props.obj.street,", ",this.props.obj.city]}),Object(s.jsxs)(_.a,{align:"right",children:[Object(s.jsx)(y.a,{"aria-label":"view",component:o.b,to:"/view/"+this.props.obj.id,children:Object(s.jsx)(de.a,{})}),Object(s.jsx)(y.a,{"aria-label":"edit",component:o.b,color:"primary",to:"/edit/"+this.props.obj.id,children:Object(s.jsx)(le.a,{})}),Object(s.jsx)(y.a,{"aria-label":"delete",color:"secondary",onClick:this.delete,children:Object(s.jsx)(ce.a,{})})]})]},this.props.obj.id)}}]),a}(i.Component),me=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).getData=s.getData.bind(Object(b.a)(s)),s.state={isLoading:!0,members:[]},s.props.onNavbarTitleChange("All Members"),s}return Object(d.a)(a,[{key:"getData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({members:[],isLoading:!0}),""!==t&&(t="/"+t),je.get("/members"+t).then((function(t){e.setState({members:t.data,isLoading:!1})})).catch((function(e){console.log(e)}))}},{key:"componentDidUpdate",value:function(e){e.search!==this.props.search?this.getData(this.props.search):e.listRefresh!==this.props.listRefresh&&this.getData()}},{key:"componentDidMount",value:function(){this.getData(this.props.search)}},{key:"tabRow",value:function(){var e=this;return this.state.members.map((function(t,a){return Object(s.jsx)(ue,{obj:t,search:e.props.search,getData:e.getData},a)}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(ee.a,{component:se.a,children:Object(s.jsxs)(Y.a,{children:[Object(s.jsx)(te.a,{children:Object(s.jsxs)(ae.a,{children:[Object(s.jsx)(_.a,{children:"ID"}),Object(s.jsx)(_.a,{align:"left",children:"Firstname"}),Object(s.jsx)(_.a,{align:"left",children:"Lastname"}),Object(s.jsx)(_.a,{align:"left",children:"Birthday"}),Object(s.jsx)(_.a,{align:"left",children:"Adress"}),Object(s.jsx)(_.a,{align:"right",children:"Actions"})]})}),Object(s.jsx)($.a,{children:!this.state.isLoading&&(this.state.members.length>0?this.tabRow():Object(s.jsx)(ae.a,{children:Object(s.jsx)(_.a,{align:"center",colSpan:5,children:"No data"})}))})]})}),this.state.isLoading?Object(s.jsx)(ie.a,{}):Object(s.jsxs)("div",{style:{float:"right"},children:[Object(s.jsx)("br",{}),Object(s.jsx)(ne.a,{variant:"outlined",color:"primary",size:"large",component:o.b,to:"".concat("","/create"),startIcon:Object(s.jsx)(F.a,{}),children:"Add Member"})]})]})}}]),a}(i.Component),pe=a(209),Oe=a(206),ge=a(208),fe=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var s;switch(Object(h.a)(this,a),(s=t.call(this,e)).handleChange=s.handleChange.bind(Object(b.a)(s)),s.onSubmit=s.onSubmit.bind(Object(b.a)(s)),s.state={message:"",error:!1,isLoading:!1,disabled:!1,url:"",errorfields:[],form:{firstname:"",lastname:"",birthday:"",street:"",city:"",phone:"",email:""}},s.props.formmode){case"edit":s.props.onNavbarTitleChange("Edit Member"),s.state=Object(l.a)(Object(l.a)({},s.state),{},{button:"Update",url:"/"+s.props.match.params.id,isLoading:!0,buttonIsSubmit:!0});break;case"create":s.props.onNavbarTitleChange("Add Member"),s.state=Object(l.a)(Object(l.a)({},s.state),{},{button:"Create",buttonIsSubmit:!0});break;default:case"view":s.props.onNavbarTitleChange("View Member"),s.state=Object(l.a)(Object(l.a)({},s.state),{},{button:"Close",url:"/"+s.props.match.params.id,disabled:!0,isLoading:!0,isSubmit:!0})}return s}return Object(d.a)(a,[{key:"handleChange",value:function(e){this.setState({form:Object(l.a)(Object(l.a)({},this.state.form),{},Object(f.a)({},e.target.id,e.target.value))})}},{key:"componentDidMount",value:function(){var e=this;""!==this.state.url&&je.get("/member/"+this.props.match.params.id).then((function(t){e.setState({form:t.data,isLoading:!1})})).catch((function(e){console.log(e),this.setState({isLoading:!1})}))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.state.buttonIsSubmit?je.post("/member"+this.state.url,this.state.form).then((function(e){t.setState({error:!1,message:"Done!",disabled:!0}),setTimeout((function(){return t.props.history.push("/")}),1e3)})).catch((function(e){if(e.response){if(e.response.data.errors){var a=e.response.data.errors.map((function(e){return Object(s.jsxs)("div",{children:["- ",e]})}));t.setState({error:!0,errorfields:e.response.data.errorfields?e.response.data.errorfields:[],message:a})}}else console.log("Error",e.message),t.setState({error:!0,message:"Something failed at backend"})})):this.props.history.push("/")}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[this.state.isLoading&&Object(s.jsx)(ie.a,{}),this.state.message&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(O.a,{severity:this.state.error?"error":this.state.disabled?"success":"info",children:this.state.message}),Object(s.jsx)("br",{})]}),Object(s.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:this.onSubmit,children:Object(s.jsxs)(Oe.a,{children:[Object(s.jsx)(ge.a,{margin:1,children:Object(s.jsx)(pe.a,{id:"firstname",variant:"outlined",label:"Firstname",shrink:"true",required:!0,disabled:this.state.disabled||this.state.isLoading,error:this.state.errorfields.includes("firstname"),value:this.state.form.firstname,onChange:this.handleChange})}),Object(s.jsx)(ge.a,{margin:1,children:Object(s.jsx)(pe.a,{id:"lastname",variant:"outlined",label:"Lastname",shrink:"true",required:!0,disabled:this.state.disabled||this.state.isLoading,error:this.state.errorfields.includes("lastname"),value:this.state.form.lastname,onChange:this.handleChange})}),Object(s.jsx)(ge.a,{margin:1,children:Object(s.jsx)(pe.a,{id:"birthday",variant:"outlined",label:"Birthday",InputLabelProps:{shrink:!0},type:"date",required:!0,disabled:this.state.disabled||this.state.isLoading,error:this.state.errorfields.includes("birthday"),value:this.state.form.birthday,onChange:this.handleChange})}),Object(s.jsx)(ge.a,{margin:1,children:Object(s.jsx)(pe.a,{id:"street",variant:"outlined",label:"Street",shrink:"true",required:!0,disabled:this.state.disabled||this.state.isLoading,error:this.state.errorfields.includes("street"),value:this.state.form.street,onChange:this.handleChange})}),Object(s.jsx)(ge.a,{margin:1,children:Object(s.jsx)(pe.a,{id:"city",variant:"outlined",label:"City",shrink:"true",required:!0,disabled:this.state.disabled||this.state.isLoading,error:this.state.errorfields.includes("city"),value:this.state.form.city,onChange:this.handleChange})}),Object(s.jsx)(ge.a,{margin:1,children:Object(s.jsx)(pe.a,{id:"phone",variant:"outlined",label:"Phone",shrink:"true",disabled:this.state.disabled||this.state.isLoading,error:this.state.errorfields.includes("phone"),value:this.state.form.phone,onChange:this.handleChange})}),Object(s.jsx)(ge.a,{margin:1,children:Object(s.jsx)(pe.a,{id:"email",variant:"outlined",label:"eMail",shrink:"true",disabled:this.state.disabled||this.state.isLoading,error:this.state.errorfields.includes("email"),value:this.state.form.email,type:"email",onChange:this.handleChange})}),Object(s.jsx)(ge.a,{margin:1,children:Object(s.jsx)(ne.a,{fullWidth:!0,type:"submit",variant:"contained",disabled:this.state.isLoading||this.state.disabled&&this.state.buttonIsSubmit,color:"primary",size:"large",children:this.state.button})})]})})]})}}]),a}(i.Component);var xe=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(h.a)(this,a),(s=t.call(this,e)).handleNavbarTitleChange=s.handleNavbarTitleChange.bind(Object(b.a)(s)),s.handleSearch=s.handleSearch.bind(Object(b.a)(s)),s.handleAddDemoEntries=s.handleAddDemoEntries.bind(Object(b.a)(s)),s.state={search:"",navbartitle:"Main",listRefresh:!1,alertmsg:""},s}return Object(d.a)(a,[{key:"handleSearch",value:function(e){this.setState({search:e})}},{key:"handleNavbarTitleChange",value:function(e){this.setState({navbartitle:e})}},{key:"handleAddDemoEntries",value:function(){var e=this;this.setState({alertmsg:"Please wait..."}),[{firstname:"Steffan",lastname:"Ehrlichmann",phone:"0421 63 07 21",email:"s.ehrlichmann@gmail.com",street:"Grolmanstra\xdfe 55",city:"28329 Bremen Gartenstadt Vahr",birthday:"1966-05-05"},{firstname:"Patrick",lastname:"Cole",phone:"08031 48 91 77",email:"PatrickCole@teleworm.us",street:"Grolmanstra\xdfe 55",city:"83055 Kolbermoor ",birthday:"1975-12-07"},{firstname:"Robert",lastname:"Weiss",phone:"05305 46 90 49",email:"Robert.Weiss@web.de",street:"Pohlstrasse 96",city:"38173 Sickte",birthday:"1946-07-18"},{firstname:"Melanie",lastname:"M\xfcller",street:"Jahnstrasse 24",city:"83203 Prien",birthday:"1965-08-31"},{firstname:"Brigitte",lastname:"Mahler",phone:"",email:"BrigitteMahler@rhyta.com ",street:"Ziegelstr. 26",city:"94160 Ringelai",birthday:"1950-02-03"},{firstname:"Suzanne",lastname:"J. Chavarria",phone:"443-752-2040",email:"SuzanneJChavarria@rhyta.com",street:"252 Green Gate Lane",city:"Baltimore, MD 21202",birthday:"1950-09-02"},{firstname:"Brenda",lastname:"Ebert",phone:"724-562-6259",email:"BrendaREbert@armyspy.com ",street:"1351 Shinn Avenue",city:"Gibsonia, PA 15044",birthday:"1986-07-31"}].forEach((function(e){je.post("/member",e).then((function(e){console.log("Success",e)})).catch((function(e){console.log("Error",e.message)}))})),this.setState({alertmsg:"Done! Give backend a second to store data..."}),setTimeout((function(){e.setState({alertmsg:"",listRefresh:!e.state.listRefresh})}),1e3)}},{key:"render",value:function(){var e=this;return Object(s.jsx)(o.a,{children:Object(s.jsxs)(p.a,{children:[Object(s.jsx)(X,{search:this.state.search,handleSearch:this.handleSearch,handleAddDemoEntries:this.handleAddDemoEntries,navbartitle:this.state.navbartitle}),Object(s.jsx)("br",{}),this.state.alertmsg&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(O.a,{severity:"success",children:this.state.alertmsg}),Object(s.jsx)("br",{})]}),Object(s.jsxs)(m.c,{children:[Object(s.jsx)(m.a,{path:"".concat("","/view/:id"),render:function(t){return Object(s.jsx)(fe,Object(l.a)({formmode:"view",onNavbarTitleChange:e.handleNavbarTitleChange},t))}}),Object(s.jsx)(m.a,{exact:!0,path:"".concat("","/create"),render:function(t){return Object(s.jsx)(fe,Object(l.a)({formmode:"create",onNavbarTitleChange:e.handleNavbarTitleChange},t))}}),Object(s.jsx)(m.a,{path:"".concat("","/edit/:id"),render:function(t){return Object(s.jsx)(fe,Object(l.a)({formmode:"edit",onNavbarTitleChange:e.handleNavbarTitleChange},t))}}),Object(s.jsx)(m.a,{path:"".concat("","/"),render:function(){return Object(s.jsx)(me,{alertmsg:e.state.alertmsg,search:e.state.search,listRefresh:e.state.listRefresh,handleSearch:e.handleSearch,onNavbarTitleChange:e.handleNavbarTitleChange})}})]})]})})}}]),a}(i.Component);c.a.render(Object(s.jsx)(o.a,{children:Object(s.jsx)(xe,{})}),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.5e3411bc.chunk.js.map